version: '3.4'

services:
  db:
    container_name: db
    image: mongo
    environment:
      MONGO_INITDB_ROOT_USERNAME: root
      MONGO_INITDB_ROOT_PASSWORD: secret
    ports:
      - 27017:27017
    volumes:
      - mongodata:/data/db

  # fabric_ordering_service:
  #   container_name: ordering_service
  #   build:
  #     context: .
  #     dockerfile: Dockerfile-fabric-ordering-service
  #   volumes:
  #     - '.:/app'
  #   depends_on:
  #     - db

  # fabric_noise_simulation:
  #   container_name: noise_simulation
  #   build:
  #     context: .
  #     dockerfile: Dockerfile-fabric-noise-simulation
  #   volumes:
  #     - '.:/app'
  #   depends_on:
  #     - db
  #     - fabric_ordering_service

networks:
  default:
    name: skrecovery_network

volumes:
  mongodata:
